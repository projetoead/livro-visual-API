(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{oPZH:function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=u("mrSG"),o=u("AxkA"),s=u("H+bZ"),i=u("ZZ/e"),a=u("kzlf"),r=function(){function l(l,n,u,t,e,o,s){this.route=l,this.router=n,this.loadingCtrl=u,this.alertCtrl=t,this.toastCtrl=e,this.api=o,this.banco=s,this.resposta=null,this.segmentOpcao="original"}return l.prototype.ionViewDidEnter=function(){var l=this.route.snapshot.paramMap.get("id");this.abrirResposta(l)},l.prototype.ngOnInit=function(){return e.b(this,void 0,void 0,(function(){var l,n;return e.e(this,(function(u){switch(u.label){case 0:return this.textoView=new a("#textoView",{theme:"snow",modules:{toolbar:l=[[{font:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],["clean"]]}}),this.sinteseView=new a("#sinteseView",{theme:"snow",modules:{toolbar:l}}),this.avaliacaoEditor=new a("#avaliacaoEditor",{theme:"snow",modules:{toolbar:l}}),n=this,[4,this.banco.get("user-credentials")];case 1:return n.usuario=u.sent(),[2]}}))}))},l.prototype.abrirResposta=function(l){return e.b(this,void 0,void 0,(function(){var n,u;return e.e(this,(function(t){switch(t.label){case 0:return[4,this.loadingCtrl.create({message:"Buscando atividades..."})];case 1:return(n=t.sent()).present(),[4,this.api.post({query:"\n            query {\n                buscarRespostas(id_resposta: "+l+"){\n                    id\n                    sintese\n                    atividade{\n                        id\n                        texto\n                    }\n                    imagens{\n                        imagem{\n                            link\n                        }\n                    }\n                    frases\n                }\n            }\n        "})];case 2:return u=t.sent(),console.log("retorno =: ",u),n.dismiss(),!u.data.buscarRespostas||u.errors?[3,3]:(this.resposta=u.data.buscarRespostas[0],this.resposta.pontos=JSON.parse(this.resposta.frases),console.log("this.resposta: ",this.resposta),this.processaDados(),[3,5]);case 3:return this.router.navigate(["/atividades/respostas"]),[4,this.alertCtrl.create({header:"Ocorreu um erro",message:"Tente novamente, ou contate o suporte."})];case 4:t.sent().present(),t.label=5;case 5:return[2]}}))}))},l.prototype.processaDados=function(){this.textoView.setContents(JSON.parse(this.resposta.atividade.texto)),document.getElementById("textoViewHTML").innerHTML=this.textoView.root.innerHTML,this.sinteseView.setContents(JSON.parse(this.resposta.sintese)),document.getElementById("sinteseViewHTML").innerHTML=this.sinteseView.root.innerHTML},l.prototype.salvarAvaliacao=function(){return e.b(this,void 0,void 0,(function(){var l,n,u;return e.e(this,(function(t){switch(t.label){case 0:return[4,this.loadingCtrl.create({message:"Salvando avalia\xe7\xe3o..."})];case 1:return(l=t.sent()).present(),n="\n            mutation {\n                novaAvaliacao(\n                    id_usuario: "+this.usuario.id+"\n                    id_resposta: "+this.resposta.id+"\n                    comentario_sintese: "+JSON.stringify(JSON.stringify(this.avaliacaoEditor.getContents()))+"\n                ){\n                    id\n                }\n            }\n        ",[4,this.api.post({query:n})];case 2:return u=t.sent(),l.dismiss(),!u.data||u.errors?[3,4]:[4,this.toastCtrl.create({message:"Avalia\xe7\xe3o cadastrada com sucesso",duration:3e3})];case 3:return t.sent().present(),this.router.navigate(["/atividades/respostas"]),[3,6];case 4:return[4,this.alertCtrl.create({header:"Ocorreu um erro",message:"Tente novamente, ou contate o suporte."})];case 5:t.sent().present(),t.label=6;case 6:return[2]}}))}))},l.prototype.alterarSegment=function(l){console.log("event ==> ",l),this.segmentOpcao=l.detail.value},l}(),b=function(){return function(){}}(),c=u("pMnS"),d=u("oBZk"),h=u("Ip0R"),p=u("gIcY"),m=u("ZYCi"),g=t.rb({encapsulation:0,styles:[[".cabecalho[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end;padding-right:15px}ion-card[_ngcontent-%COMP%]{margin:0}@media screen and (max-width:600px){.mobile[_ngcontent-%COMP%]{display:none}.mobile.mostrar[_ngcontent-%COMP%]{display:block}}@media screen and (min-width:600px){.mobileSegment[_ngcontent-%COMP%]{display:none}}"]],data:{}});function k(l){return t.Nb(0,[(l()(),t.tb(0,0,null,null,9,"ion-card",[],null,null,null,d.P,d.e)),t.sb(1,49152,null,0,i.m,[t.h,t.k,t.z],null,null),(l()(),t.tb(2,0,null,0,7,"ion-card-header",[],null,null,null,d.M,d.g)),t.sb(3,49152,null,0,i.o,[t.h,t.k,t.z],null,null),(l()(),t.tb(4,0,null,0,5,"ion-card-title",[],null,null,null,d.O,d.i)),t.sb(5,49152,null,0,i.q,[t.h,t.k,t.z],null,null),(l()(),t.tb(6,0,null,0,3,"ion-text",[["color","dark"]],null,null,null,d.kb,d.D)),t.sb(7,49152,null,0,i.xb,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.tb(8,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["Imagens do Aluno"]))],(function(l,n){l(n,7,0,"dark")}),null)}function v(l){return t.Nb(0,[(l()(),t.tb(0,0,null,null,5,"ion-item",[],null,null,null,d.X,d.q)),t.sb(1,49152,null,0,i.H,[t.h,t.k,t.z],null,null),(l()(),t.tb(2,0,null,0,3,"div",[["class","textos"]],null,null,null,null,null)),(l()(),t.tb(3,0,null,null,2,"ion-label",[],null,null,null,d.Y,d.r)),t.sb(4,49152,null,0,i.N,[t.h,t.k,t.z],null,null),(l()(),t.Lb(5,0,["",""]))],null,(function(l,n){l(n,5,0,n.context.index+1+" - "+n.context.$implicit)}))}function z(l){return t.Nb(0,[(l()(),t.tb(0,0,null,null,2,"ion-col",[["size","12"]],null,null,null,d.Q,d.j)),t.sb(1,49152,null,0,i.t,[t.h,t.k,t.z],{size:[0,"size"]},null),(l()(),t.tb(2,0,null,0,0,"img",[["alt","alt"]],[[8,"src",4]],null,null,null,null))],(function(l,n){l(n,1,0,"12")}),(function(l,n){l(n,2,0,n.context.$implicit.imagem.link)}))}function f(l){return t.Nb(0,[(l()(),t.tb(0,0,null,null,11,"ion-row",[["co-padding",""]],null,null,null,d.eb,d.x)),t.sb(1,49152,null,0,i.jb,[t.h,t.k,t.z],null,null),(l()(),t.tb(2,0,null,0,5,"ion-col",[["size","6"]],null,null,null,d.Q,d.j)),t.sb(3,49152,null,0,i.t,[t.h,t.k,t.z],{size:[0,"size"]},null),(l()(),t.tb(4,0,null,0,3,"ion-list",[],null,null,null,d.ab,d.s)),t.sb(5,49152,null,0,i.O,[t.h,t.k,t.z],null,null),(l()(),t.ib(16777216,null,0,1,null,v)),t.sb(7,278528,null,0,h.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(8,0,null,0,3,"ion-col",[["size","6"]],null,null,null,d.Q,d.j)),t.sb(9,49152,null,0,i.t,[t.h,t.k,t.z],{size:[0,"size"]},null),(l()(),t.ib(16777216,null,0,1,null,z)),t.sb(11,278528,null,0,h.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,3,0,"6"),l(n,7,0,u.resposta.pontos),l(n,9,0,"6"),l(n,11,0,u.resposta.imagens)}),null)}function x(l){return t.Nb(0,[(l()(),t.tb(0,0,null,null,18,"ion-header",[],null,null,null,d.U,d.n)),t.sb(1,49152,null,0,i.B,[t.h,t.k,t.z],null,null),(l()(),t.tb(2,0,null,0,16,"ion-toolbar",[],null,null,null,d.nb,d.G)),t.sb(3,49152,null,0,i.Cb,[t.h,t.k,t.z],null,null),(l()(),t.tb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.K,d.d)),t.sb(5,49152,null,0,i.l,[t.h,t.k,t.z],null,null),(l()(),t.tb(6,0,null,0,1,"ion-menu-button",[],null,null,null,d.bb,d.v)),t.sb(7,49152,null,0,i.R,[t.h,t.k,t.z],null,null),(l()(),t.tb(8,0,null,0,10,"div",[["class","cabecalho-menu"]],null,null,null,null,null)),(l()(),t.tb(9,0,null,null,2,"ion-title",[],null,null,null,d.mb,d.F)),t.sb(10,49152,null,0,i.Ab,[t.h,t.k,t.z],null,null),(l()(),t.Lb(-1,0,["Comentar Atividade"])),(l()(),t.tb(12,0,null,null,6,"ion-buttons",[["slot","start"]],null,null,null,d.K,d.d)),t.sb(13,49152,null,0,i.l,[t.h,t.k,t.z],null,null),(l()(),t.tb(14,0,null,0,4,"ion-button",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.salvarAvaliacao()&&t),t}),d.J,d.c)),t.sb(15,49152,null,0,i.k,[t.h,t.k,t.z],null,null),(l()(),t.tb(16,0,null,0,1,"ion-icon",[["name","save"],["slot","start"]],null,null,null,d.V,d.o)),t.sb(17,49152,null,0,i.C,[t.h,t.k,t.z],{name:[0,"name"]},null),(l()(),t.Lb(-1,0,[" Salvar "])),(l()(),t.tb(19,0,null,null,81,"ion-content",[],null,null,null,d.R,d.k)),t.sb(20,49152,null,0,i.u,[t.h,t.k,t.z],null,null),(l()(),t.tb(21,0,null,0,24,"div",[],null,null,null,null,null)),(l()(),t.tb(22,0,null,null,23,"ion-segment",[["class","mobileSegment"],["scrollable",""]],null,[[null,"ionChange"],[null,"ionBlur"]],(function(l,n,u){var e=!0,o=l.component;return"ionBlur"===n&&(e=!1!==t.Eb(l,25)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Eb(l,25)._handleChangeEvent(u.target)&&e),"ionChange"===n&&(e=!1!==o.alterarSegment(u)&&e),e}),d.hb,d.z)),t.Ib(5120,null,p.g,(function(l){return[l]}),[i.Mb]),t.sb(24,49152,null,0,i.lb,[t.h,t.k,t.z],{scrollable:[0,"scrollable"],value:[1,"value"]},null),t.sb(25,16384,null,0,i.Mb,[t.k],null,null),(l()(),t.tb(26,0,null,0,4,"ion-segment-button",[["value","original"]],null,null,null,d.gb,d.A)),t.sb(27,49152,null,0,i.mb,[t.h,t.k,t.z],{value:[0,"value"]},null),(l()(),t.tb(28,0,null,0,2,"ion-label",[],null,null,null,d.Y,d.r)),t.sb(29,49152,null,0,i.N,[t.h,t.k,t.z],null,null),(l()(),t.Lb(-1,0,["Original"])),(l()(),t.tb(31,0,null,0,4,"ion-segment-button",[["value","sintese"]],null,null,null,d.gb,d.A)),t.sb(32,49152,null,0,i.mb,[t.h,t.k,t.z],{value:[0,"value"]},null),(l()(),t.tb(33,0,null,0,2,"ion-label",[],null,null,null,d.Y,d.r)),t.sb(34,49152,null,0,i.N,[t.h,t.k,t.z],null,null),(l()(),t.Lb(-1,0,["S\xedntese"])),(l()(),t.tb(36,0,null,0,4,"ion-segment-button",[["value","comentario"]],null,null,null,d.gb,d.A)),t.sb(37,49152,null,0,i.mb,[t.h,t.k,t.z],{value:[0,"value"]},null),(l()(),t.tb(38,0,null,0,2,"ion-label",[],null,null,null,d.Y,d.r)),t.sb(39,49152,null,0,i.N,[t.h,t.k,t.z],null,null),(l()(),t.Lb(-1,0,["Coment\xe1rio"])),(l()(),t.tb(41,0,null,0,4,"ion-segment-button",[["value","pontos"]],null,null,null,d.gb,d.A)),t.sb(42,49152,null,0,i.mb,[t.h,t.k,t.z],{value:[0,"value"]},null),(l()(),t.tb(43,0,null,0,2,"ion-label",[],null,null,null,d.Y,d.r)),t.sb(44,49152,null,0,i.N,[t.h,t.k,t.z],null,null),(l()(),t.Lb(-1,0,["Pontos Focais"])),(l()(),t.tb(46,0,null,0,54,"ion-grid",[["fixed",""]],null,null,null,d.T,d.m)),t.sb(47,49152,null,0,i.A,[t.h,t.k,t.z],{fixed:[0,"fixed"]},null),(l()(),t.tb(48,0,null,0,52,"ion-row",[],null,null,null,d.eb,d.x)),t.sb(49,49152,null,0,i.jb,[t.h,t.k,t.z],null,null),(l()(),t.tb(50,0,null,0,16,"ion-col",[["class","mobile"],["size-lg","4"],["size-xs","12"]],[[2,"mostrar",null]],null,null,d.Q,d.j)),t.sb(51,49152,null,0,i.t,[t.h,t.k,t.z],null,null),(l()(),t.tb(52,0,null,0,14,"ion-card",[],null,null,null,d.P,d.e)),t.sb(53,49152,null,0,i.m,[t.h,t.k,t.z],null,null),(l()(),t.tb(54,0,null,0,7,"ion-card-header",[],null,null,null,d.M,d.g)),t.sb(55,49152,null,0,i.o,[t.h,t.k,t.z],null,null),(l()(),t.tb(56,0,null,0,5,"ion-card-title",[],null,null,null,d.O,d.i)),t.sb(57,49152,null,0,i.q,[t.h,t.k,t.z],null,null),(l()(),t.tb(58,0,null,0,3,"ion-text",[["color","dark"]],null,null,null,d.kb,d.D)),t.sb(59,49152,null,0,i.xb,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.tb(60,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["Texto Original"])),(l()(),t.tb(62,0,null,0,4,"ion-card-content",[],null,null,null,d.L,d.f)),t.sb(63,49152,null,0,i.n,[t.h,t.k,t.z],null,null),(l()(),t.tb(64,0,[["textoViewHTML",1]],0,0,"div",[["id","textoViewHTML"]],null,null,null,null,null)),(l()(),t.tb(65,0,null,0,1,"div",[["hidden",""]],null,null,null,null,null)),(l()(),t.tb(66,0,[["textoView",1]],null,0,"div",[["hidden",""],["id","textoView"]],null,null,null,null,null)),(l()(),t.tb(67,0,null,0,18,"ion-col",[["class","mobile"],["size-lg","4"],["size-xs","12"]],[[2,"mostrar",null]],null,null,d.Q,d.j)),t.sb(68,49152,null,0,i.t,[t.h,t.k,t.z],null,null),(l()(),t.tb(69,0,null,0,14,"ion-card",[],null,null,null,d.P,d.e)),t.sb(70,49152,null,0,i.m,[t.h,t.k,t.z],null,null),(l()(),t.tb(71,0,null,0,7,"ion-card-header",[],null,null,null,d.M,d.g)),t.sb(72,49152,null,0,i.o,[t.h,t.k,t.z],null,null),(l()(),t.tb(73,0,null,0,5,"ion-card-title",[],null,null,null,d.O,d.i)),t.sb(74,49152,null,0,i.q,[t.h,t.k,t.z],null,null),(l()(),t.tb(75,0,null,0,3,"ion-text",[["color","dark"]],null,null,null,d.kb,d.D)),t.sb(76,49152,null,0,i.xb,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.tb(77,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["S\xedntese do Aluno"])),(l()(),t.tb(79,0,null,0,4,"ion-card-content",[],null,null,null,d.L,d.f)),t.sb(80,49152,null,0,i.n,[t.h,t.k,t.z],null,null),(l()(),t.tb(81,0,null,0,1,"div",[["hidden",""]],null,null,null,null,null)),(l()(),t.tb(82,0,[["sinteseView",1]],null,0,"div",[["hidden",""],["id","sinteseView"]],null,null,null,null,null)),(l()(),t.tb(83,0,[["sinteseViewHTML",1]],0,0,"div",[["id","sinteseViewHTML"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,0,1,null,k)),t.sb(85,16384,null,0,h.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(86,0,null,0,10,"ion-col",[["class","mobile"],["size-lg","4"],["size-xs","12"]],[[2,"mostrar",null]],null,null,d.Q,d.j)),t.sb(87,49152,null,0,i.t,[t.h,t.k,t.z],null,null),(l()(),t.tb(88,0,null,0,7,"ion-card",[],null,null,null,d.P,d.e)),t.sb(89,49152,null,0,i.m,[t.h,t.k,t.z],null,null),(l()(),t.tb(90,0,null,0,5,"ion-card-header",[],null,null,null,d.M,d.g)),t.sb(91,49152,null,0,i.o,[t.h,t.k,t.z],null,null),(l()(),t.tb(92,0,null,0,3,"ion-text",[["color","dark"]],null,null,null,d.kb,d.D)),t.sb(93,49152,null,0,i.xb,[t.h,t.k,t.z],{color:[0,"color"]},null),(l()(),t.tb(94,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t.Lb(-1,null,["Coment\xe1rio"])),(l()(),t.tb(96,0,[["avaliacaoEditor",1]],0,0,"div",[["id","avaliacaoEditor"]],null,null,null,null,null)),(l()(),t.tb(97,0,null,0,3,"ion-col",[["class","mobile"],["size-lg","4"],["size-xs","12"]],[[2,"mostrar",null]],null,null,d.Q,d.j)),t.sb(98,49152,null,0,i.t,[t.h,t.k,t.z],null,null),(l()(),t.ib(16777216,null,0,1,null,f)),t.sb(100,16384,null,0,h.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(101,0,null,null,8,"ion-footer",[["class","footer-mobile"]],null,null,null,d.S,d.l)),t.sb(102,49152,null,0,i.z,[t.h,t.k,t.z],null,null),(l()(),t.tb(103,0,null,0,6,"ion-toolbar",[],null,null,null,d.nb,d.G)),t.sb(104,49152,null,0,i.Cb,[t.h,t.k,t.z],null,null),(l()(),t.tb(105,0,null,0,4,"ion-button",[["expand","full"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.salvarAvaliacao()&&t),t}),d.J,d.c)),t.sb(106,49152,null,0,i.k,[t.h,t.k,t.z],{expand:[0,"expand"]},null),(l()(),t.tb(107,0,null,0,1,"ion-icon",[["name","save"],["slot","start"]],null,null,null,d.V,d.o)),t.sb(108,49152,null,0,i.C,[t.h,t.k,t.z],{name:[0,"name"]},null),(l()(),t.Lb(-1,0,[" Salvar "]))],(function(l,n){var u=n.component;l(n,17,0,"save"),l(n,24,0,"",u.segmentOpcao),l(n,27,0,"original"),l(n,32,0,"sintese"),l(n,37,0,"comentario"),l(n,42,0,"pontos"),l(n,47,0,""),l(n,59,0,"dark"),l(n,76,0,"dark"),l(n,85,0,u.resposta),l(n,93,0,"dark"),l(n,100,0,u.resposta),l(n,106,0,"full"),l(n,108,0,"save")}),(function(l,n){var u=n.component;l(n,50,0,"original"==u.segmentOpcao),l(n,67,0,"sintese"==u.segmentOpcao),l(n,86,0,"comentario"==u.segmentOpcao),l(n,97,0,"pontos"==u.segmentOpcao)}))}function C(l){return t.Nb(0,[(l()(),t.tb(0,0,null,null,1,"app-avaliar-atividade",[],null,null,null,x,g)),t.sb(1,114688,null,0,r,[m.a,m.m,i.Gb,i.b,i.Ob,s.a,o.a],null,null)],(function(l,n){l(n,1,0)}),null)}var w=t.pb("app-avaliar-atividade",r,C,{},{},[]);u.d(n,"AvaliarAtividadePageModuleNgFactory",(function(){return O}));var O=t.qb(b,[],(function(l){return t.Bb([t.Cb(512,t.j,t.bb,[[8,[c.a,w]],[3,t.j],t.x]),t.Cb(4608,h.l,h.k,[t.u,[2,h.r]]),t.Cb(4608,p.p,p.p,[]),t.Cb(4608,i.c,i.c,[t.z,t.g]),t.Cb(4608,i.Hb,i.Hb,[i.c,t.j,t.q]),t.Cb(4608,i.Kb,i.Kb,[i.c,t.j,t.q]),t.Cb(1073742336,h.b,h.b,[]),t.Cb(1073742336,p.o,p.o,[]),t.Cb(1073742336,p.e,p.e,[]),t.Cb(1073742336,i.Eb,i.Eb,[]),t.Cb(1073742336,m.o,m.o,[[2,m.t],[2,m.m]]),t.Cb(1073742336,b,b,[]),t.Cb(1024,m.k,(function(){return[[{path:"",component:r}]]}),[])])}))}}]);